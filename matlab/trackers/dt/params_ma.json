{
  "Description": "DUMMY",
  "DispName": "",
  "MultiAnimal": {
    "Description": "MultiAnimal settings.",
    "DispName": "",
    "multi_loss_mask": {
      "AffectsTraining": true,
      "DefaultValue": true,
      "Description": "Set this to false only if all animals are labeled in every labeled frame.",
      "DispName": "Unlabeled animals present",
      "Level": "Important",
      "ParamViz": "",
      "Requirements": [
        "ma"
      ],
      "Type": "boolean",
      "isEditable": true
    },
    "multi_crop_ims": {
      "AffectsTraining": true,
      "DefaultValue": true,
      "Description": "Set this to false to force training on the entire image/frame.",
      "DispName": "Crop images during training",
      "Level": "Beginner",
      "ParamViz": "",
      "Requirements": [
        "~isObjDet"
      ],
      "Type": "boolean",
      "isEditable": true
    },
    "multi_crop_im_sz": {
      "AffectsTraining": true,
      "DefaultValue": 32,
      "Description": "If images are cropped for training, then this is the size for cropping. This is auto computed. This is the size of the smallest square that covers the largest cluster of labeled animals that have overlapping masks.",
      "DispName": "Cropped images size for training",
      "Level": "Beginner",
      "ParamViz": "",
      "Requirements": [
        "~isObjDet"
      ],
      "Type": "unsigned",
      "isEditable": false
    },
    "multi_match_dist": {
      "AffectsTraining": true,
      "DefaultValue": 20,
      "Description": "The distance between two poses is compared to the bounding box sizes of the poses. If the average distance between the landmarks is smaller than this fraction (in percentage) of bounding box edge size, then merge the two predictions. Mainly for MA-Grone.",
      "DispName": "Non-max suppression distance",
      "Level": "Advanced",
      "ParamViz": "",
      "Requirements": [
        "ma"
      ],
      "Type": "float",
      "isEditable": true
    },
    "Detect": {
      "Description": "MultiAnimal settings.",
      "DispName": "Detection",
      "BBox": {
        "Description": "Object detection bounding box definition",
        "DispName": "Bounding Box Definition",
        "MinAspectRatio": {
          "AffectsTraining": true,
          "DefaultValue": 0.3,
          "Description": "Minimum aspect ratio for bounding boxes.",
          "DispName": "Minimum Aspect Ratio",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "isObjDet"
          ],
          "Type": "float",
          "isEditable": true
        }
      },
      "DeepTrack": {
        "Description": "Hyperparameters for training the first-stage detection network for multi-target pose recognition.",
	"DispName": "Detection Network"
      }
    },
    "TargetCrop": {
      "Description": "APT crops out regions centered around each detected animal and runs part-tracking on these image crops. These parameters describe how image patches around individual animals are cropped out.",
      "DispName": "Cropping around Detections",
      "ManualRadius": {
        "AffectsTraining": true,
        "DefaultValue": 50,
        "Description": "Radius (in pixels) of the square cropped around each target.",
        "DispName": "Animal Box Size Radius",
        "Level": "Important",
        "ParamViz": "ParameterVisualizationTgtCropRadius",
        "Requirements": [
          "isTopDown",
          "hasTrx"
        ],
        "Type": "unsigned",
        "isEditable": true
      },
      "AlignUsingTrxTheta": {
        "AffectsTraining": true,
        "DefaultValue": true,
        "Description": "If true, align cropped images using head-tail orientation or using trx.theta if the project uses trx files.",
        "DispName": "Align using head-tail or using trajectory theta",
        "Level": "Beginner",
        "ParamViz": "",
        "Requirements": [
          "hasTrx",
          "isHeadTail"
        ],
        "Type": "boolean",
        "isEditable": true
      },
      "PadBkgd": {
        "AffectsTraining": true,
        "DefaultValue": 0,
        "Description": "If the cropped regions need to be padded, this value indicates the image intensity to pad with.",
        "DispName": "Pad background",
        "Level": "Advanced",
        "ParamViz": "",
        "Requirements": [
          "hasTrx",
          "isTopDown"
        ],
        "Type": "unsigned",
        "isEditable": true
      },
      "multi_scale_by_bbox": {
        "AffectsTraining": true,
        "DefaultValue": true,
        "Description": "For pose estimation (stage 2), crop the image around animal based on their detected size and scale the cropped image to a common size before estimating the pose. Useful if the visual scale of the animals varies a lot. Unselect if the apparent scale of all the animals does not change. In this case, all detected animals are cropped uniformly.",
        "DispName": "Scale bounding box?",
        "Level": "Important",
        "ParamViz": "ParameterVisualizationScale#multi_scale_by_bbox",
        "Requirements": [
          "isTopDown"
        ],
        "Type": "boolean",
        "isEditable": true
      }
    },
    "LossMask": {
      "Description": "Parameters for masking loss to handle unlabeled targets",
      "DispName": "Loss Masking",
      "MinAspectRatio": {
        "AffectsTraining": true,
        "DefaultValue": 0.3,
        "Description": "Minimum aspect ratio for mask.",
        "DispName": "Minimum Aspect Ratio",
        "Level": "Advanced",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "float",
        "isEditable": true
      },
      "PadFactor": {
        "AffectsTraining": true,
        "DefaultValue": 1.5,
        "Description": "Dimensionless factor controlling width of padding around target. A value of 1 indicates a tight fit around the landmark convex hull.",
        "DispName": "Padding factor",
        "Level": "Beginner",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "float",
        "isEditable": true
      },
      "PadFloor": {
        "AffectsTraining": true,
        "DefaultValue": 32,
        "Description": "Minimum width of padding around target, in pixels.",
        "DispName": "Minimum padding",
        "Level": "Beginner",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "float",
        "isEditable": true
      },
      "AlignHeadTail": {
        "AffectsTraining": true,
        "DefaultValue": false,
        "Description": "If true, align masks to animal using head/tail landmarks",
        "DispName": "Align mask using head/tail landmark specifications",
        "Level": "Beginner",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "boolean",
        "isEditable": true
      }
    },
    "Track": {
      "Description": "Multi-animal tracking parameters",
      "DispName": "Multi-animal tracking parameters",
      "min_n_animals": {
        "AffectsTraining": true,
        "DefaultValue": 0,
        "Description": "APT will detect at least this many animals in each frame.",
        "DispName": "Minimum number of animals",
        "Level": "Important",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "unsigned",
        "isEditable": true
      },
      "max_n_animals": {
        "AffectsTraining": true,
        "DefaultValue": 30,
        "Description": "APT will detect at most this many animals in each frame.",
        "DispName": "Maximum number of animals",
        "Level": "Important",
        "ParamViz": "",
        "Requirements": [
          "ma"
        ],
        "Type": "unsigned",
        "isEditable": true
      },
      "TrackletStitch": {
        "Description": "Parameters for stitching tracked targets into tracklets",
        "DispName": "Tracklet Stitching",
        "link_stage": {
          "AffectsTraining": true,
          "DefaultValue": "second",
          "Description": "Whether to stitch detections into tracklets at the first (detection) stage, or the second (pose-tracking) stage.",
          "DispName": "Stitching stage",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": [
            "first",
            "second",
            "none"
          ],
          "isEditable": true
        },
        "link_id": {
          "AffectsTraining": true,
          "DefaultValue": false,
          "Description": "Whether to stitch detections using identity tracking.",
          "DispName": "Identity Linking",
          "Level": "Important",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "boolean",
          "isEditable": true
        },
        "link_maxcost_heuristic": {
          "AffectsTraining": true,
          "DefaultValue": "secondorder",
          "Description": "Method to compute the cutoff for linking. Secondorder sets the cutoff where sorted match distances sharply increases. Prctile computes the cutoff as a percentile of matched distances",
          "DispName": "Linking cutoff method",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": [
            "secondorder",
            "prctile"
          ],
          "isEditable": true
        },
        "link_maxcost_mult": {
          "AffectsTraining": true,
          "DefaultValue": 1,
          "Description": "This determines how aggresively tracklets are linked. Value of 1 will not link frames that have unusual large movements. For value less than 1 tracking will break even for usual large movements. Values greater than 1 (3-4) will link detections across large jumps.",
          "DispName": "Linking Aggressiveness",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "float",
          "isEditable": true
        },
        "link_maxcost_prctile": {
          "AffectsTraining": true,
          "DefaultValue": 95,
          "Description": "When using prctile (percentile) method to compute the cutoff, the percentile to use to compute the cutoff.",
          "DispName": "Cutoff Percentile",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "float",
          "isEditable": true
        },
        "link_maxframes_delete": {
          "AffectsTraining": true,
          "DefaultValue": 10,
          "Description": "Delete trajectories of length shorter than this.",
          "DispName": "Minimum Trajectory Length",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_maxframes_missed": {
          "AffectsTraining": true,
          "DefaultValue": 10,
          "Description": "Maximum gap length in trajectory across which to link trajectory.",
          "DispName": "Max gap length to link",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_strict_match_thres": {
          "AffectsTraining": true,
          "DefaultValue": 2,
          "Description": "Match a prediction only if the distance to closest match is smaller than the distance to the next closest match by this factor.",
          "DispName": "Matching Threshold",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "float",
          "isEditable": true
        },
        "link_id_training_iters": {
          "AffectsTraining": true,
          "DefaultValue": 100000,
          "Description": "Number of steps to training the identity tracker for.",
          "DispName": "Identity Tracker Training iterations",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_id_tracklet_samples": {
          "AffectsTraining": true,
          "DefaultValue": 25,
          "Description": "Number of examples to sample from a tracklet when assigning identity.",
          "DispName": "Tracklet Samples",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_id_rescale": {
          "AffectsTraining": true,
          "DefaultValue": 1,
          "Description": "Amount to downsample the cropped animal images for identity tracking.",
          "DispName": "Identity tracker downsampling factor",
          "Level": "Important",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "float",
          "isEditable": true
        },
        "link_id_batch_size": {
          "AffectsTraining": true,
          "DefaultValue": 16,
          "Description": "Batch size to use for training identity network.",
          "DispName": "Identity tracker batch size",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_id_mining_steps": {
          "AffectsTraining": true,
          "DefaultValue": 10,
          "Description": "Number of times to do hard triplet mining during identity tracking.",
          "DispName": "Identity tracker mining steps",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "unsigned",
          "isEditable": true
        },
        "link_id_cropsz": {
          "AffectsTraining": true,
          "DefaultValue": -1,
          "Description": "Crop size to use ID linking. If less than 0, the automatically computed crop size is used",
          "DispName": "Crop size to use for ID Linking",
          "Level": "Beginner",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "signed",
          "isEditable": true
        },
        "link_id_motion_link": {
          "AffectsTraining": true,
          "DefaultValue": false,
          "Description": "Crop size to use ID linking. If less than 0, the automatically computed crop size is used",
          "DispName": "Use motion linking before grouping by identity",
          "Level": "Advanced",
          "ParamViz": "",
          "Requirements": [
            "ma"
          ],
          "Type": "signed",
          "isEditable": true
        }
      }
    }
  }
}
